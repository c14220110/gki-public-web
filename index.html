<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GKI Kutisari Indah | Gereja Modern di Surabaya</title>

    <!-- Tailwind CSS (External) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP (GreenSock Animation Platform) (External) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Elfsight platform script (cukup sekali per halaman) -->
    <script src="https://elfsightcdn.com/platform.js" async></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font for Preloader -->
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* --- START: Color Scheme Setup --- */
      :root {
        /* Light Mode Variables */
        --color-text-main: #1f2937; /* gray-800 */
        --color-text-secondary: #4b5563; /* gray-600 */
        --color-text-accent: #d97706; /* amber-600 */
        --color-background: #ffffff;
        --color-surface-glass: rgba(255, 255, 255, 0.3);
        --color-border-glass: rgba(255, 255, 255, 0.4);
        --color-footer-bg: #1f2937;
        --color-footer-text: #d1d5db; /* gray-300 */
      }

      @media (prefers-color-scheme: dark) {
        :root {
          /* Dark Mode Variables */
          --color-text-main: #f9fafb; /* gray-50 */
          --color-text-secondary: #9ca3af; /* gray-400 */
          --color-text-accent: #f59e0b; /* amber-500 */
          --color-background: #111827; /* gray-900 */
          --color-surface-glass: rgba(
            31,
            41,
            55,
            0.3
          ); /* gray-800 with opacity */
          --color-border-glass: rgba(
            55,
            65,
            81,
            0.4
          ); /* gray-700 with opacity */
          --color-footer-bg: #030712; /* gray-950 */
          --color-footer-text: #9ca3af; /* gray-400 */
        }
      }
      /* --- END: Color Scheme Setup --- */

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--color-background);
        color: var(--color-text-main);
        overflow-x: hidden;
      }

      /* --- START: New Preloader Styles --- */
      #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 9999;
        background-color: var(--color-background);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-family: "Oswald", "Bebas Neue", sans-serif;
      }

      .loader-text-line {
        display: flex;
        font-size: 6.5rem;
        font-weight: 700;
        position: relative;
        overflow: hidden;
      }

      .loader-text-line span {
        display: inline-block;
        position: relative;
        color: rgba(var(--color-text-main-rgb, 31, 41, 55), 0.2);
        line-height: 1;
        transform: translateY(110px);
        --clipPath: inset(100% 0 0 0);
      }

      @media (prefers-color-scheme: dark) {
        .loader-text-line span {
          color: rgba(249, 250, 251, 0.2); /* gray-50 with opacity */
        }
      }

      .loader-text-line span::before {
        content: attr(data-text);
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(
          45deg,
          #b45309,
          #d97706,
          #f59e0b,
          #fbbf24
        );
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        clip-path: var(--clipPath);
        -webkit-clip-path: var(--clipPath);
        transition: clip-path 0s;
      }
      /* --- END: New Preloader Styles --- */

      /* --- START: Initial Animation States --- */
      main,
      #header {
        opacity: 0;
      }
      /* --- END: Initial Animation States --- */

      /* Animated Aurora Background */
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: radial-gradient(
            circle at 15% 50%,
            rgba(217, 119, 6, 0.15),
            rgba(217, 119, 6, 0) 25%
          ),
          radial-gradient(
            circle at 85% 30%,
            rgba(59, 130, 246, 0.15),
            rgba(59, 130, 246, 0) 25%
          );
        z-index: -1;
        animation: animate-aurora 15s infinite linear;
      }
      @keyframes animate-aurora {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Glassmorphism Card Style */
      .glass-card {
        background: var(--color-surface-glass);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--color-border-glass);
        border-radius: 1.25rem;
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      }

      .glass-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 16px 40px 0 rgba(31, 38, 135, 0.15);
      }

      /* Header glass style */
      .header-glass {
        background: var(--color-surface-glass);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-bottom: 1px solid var(--color-border-glass);
      }

      /* Hero Video Styling */
      #heroVideo {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: 0;
        transform: translateX(-50%) translateY(-50%);
        object-fit: cover;
      }
      .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.4);
        z-index: 1;
      }
      .hero-content {
        position: relative;
        z-index: 2;
      }

      /* Section Titles */
      .section-title {
        font-weight: 700;
        font-size: 2.5rem;
        color: var(--color-text-main);
      }
      .section-subtitle {
        font-size: 1.125rem;
        color: var(--color-text-secondary);
        margin-top: 1rem;
      }

      /* Buttons */
      .btn {
        display: inline-block;
        padding: 0.8rem 1.75rem;
        border-radius: 9999px;
        font-weight: 600;
        text-align: center;
        transition: all 0.3s ease-in-out;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }
      .btn-primary {
        background-color: var(--color-text-accent);
        color: #fff;
      }
      .btn-primary:hover {
        background-color: #b45309;
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(217, 119, 6, 0.4);
      }
      .btn-secondary {
        background-color: transparent;
        color: #fff;
        border: 2px solid #fff;
      }
      .btn-secondary:hover {
        background-color: #fff;
        color: #111827;
        transform: translateY(-3px);
      }

      /* Navigation Links */
      .nav-link {
        position: relative;
        transition: color 0.3s ease;
        color: var(--color-text-secondary);
      }
      .nav-link::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -4px;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--color-text-accent);
        transition: width 0.3s ease;
      }
      .nav-link:hover {
        color: var(--color-text-main);
      }
      .nav-link:hover::after {
        width: 100%;
      }

      /* Scroll Animation */
      [data-animate] {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }
      [data-animate].is-visible {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
  </head>
  <body class="antialiased">
    <!-- Preloader Start -->
    <div id="preloader">
      <div class="loader-text-line">
        <span data-text="G">G</span>
        <span data-text="K">K</span>
        <span data-text="I">I</span>
      </div>
      <div class="loader-text-line">
        <span data-text="K">K</span>
        <span data-text="U">U</span>
        <span data-text="T">T</span>
        <span data-text="I">I</span>
        <span data-text="S">S</span>
        <span data-text="A">A</span>
        <span data-text="R">R</span>
        <span data-text="I">I</span>
      </div>
    </div>
    <!-- Preloader End -->

    <header
      id="header"
      class="header-glass sticky top-0 z-50 transition-shadow duration-300"
    >
      <div class="container mx-auto px-6 py-3">
        <div class="flex items-center justify-between">
          <a href="#" class="flex items-center space-x-3">
            <img
              src="assets/logo.png"
              alt="Logo GKI Kutisari"
              class="h-12 w-auto"
              id="header-logo"
            />
            <span
              class="brand-text text-xl font-bold hidden sm:inline"
              style="color: var(--color-text-main)"
              >GKI KUTISARI</span
            >
          </a>

          <nav class="hidden md:flex items-center space-x-8">
            <a href="#beranda" class="nav-link font-semibold">Beranda</a>
            <a href="#tentang" class="nav-link font-semibold">Tentang Kami</a>
            <a href="#jadwal" class="nav-link font-semibold">Jadwal</a>
            <a href="#warta" class="nav-link font-semibold">Warta</a>
            <a href="#galeri" class="nav-link font-semibold">Galeri</a>
            <a href="#kontak" class="nav-link font-semibold">Kontak</a>
          </nav>

          <a
            href="https://api.whatsapp.com/send/?phone=6281332240711"
            target="_blank"
            class="hidden md:inline-block btn btn-primary"
          >
            Gabung Pelayanan
          </a>

          <button
            id="mobile-menu-button"
            class="md:hidden"
            style="color: var(--color-text-main)"
          >
            <svg
              class="w-7 h-7"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16m-7 6h7"
              ></path>
            </svg>
          </button>
        </div>
      </div>
      <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
        <a href="#beranda" class="block py-2 font-semibold nav-link">Beranda</a>
        <a href="#tentang" class="block py-2 font-semibold nav-link"
          >Tentang Kami</a
        >
        <a href="#jadwal" class="block py-2 font-semibold nav-link">Jadwal</a>
        <a href="#warta" class="block py-2 font-semibold nav-link">Warta</a>
        <a href="#galeri" class="block py-2 font-semibold nav-link">Galeri</a>
        <a href="#kontak" class="block py-2 font-semibold nav-link">Kontak</a>
        <a
          href="https://api.whatsapp.com/send/?phone=6281332240711"
          target="_blank"
          class="mt-4 btn btn-primary w-full"
          >Gabung Pelayanan</a
        >
      </div>
    </header>

    <main>
      <section
        id="beranda"
        class="relative h-screen flex items-center justify-center text-white text-center overflow-hidden"
      >
        <video id="heroVideo" autoplay muted loop playsinline>
          <source src="assets/bg_gki.mp4" type="video/mp4" />
          Browser Anda tidak mendukung tag video.
        </video>
        <div class="hero-overlay"></div>
        <div class="hero-content container mx-auto px-6">
          <h1
            data-animate
            style="transition-delay: 200ms"
            class="text-4xl md:text-6xl font-bold leading-tight mb-4 drop-shadow-lg"
          >
            Selamat Datang di GKI Kutisari Indah
          </h1>
          <p
            data-animate
            style="transition-delay: 1200ms"
            class="text-lg md:text-2xl mb-8 max-w-3xl mx-auto drop-shadow-md"
          >
            Gereja yang bertumbuh dalam Iman, Kasih, dan Pelayanan bagi sesama.
          </p>
          <div
            data-animate
            style="transition-delay: 1400ms"
            class="flex flex-col sm:flex-row items-center justify-center gap-4"
          >
            <a href="#jadwal" class="btn btn-primary w-full sm:w-auto"
              >Lihat Jadwal Ibadah</a
            >
            <a href="#kontak" class="btn btn-secondary w-full sm:w-auto"
              >Kunjungi Kami</a
            >
          </div>
        </div>
      </section>

      <section id="jadwal" class="py-24">
        <div class="container mx-auto px-6 text-center">
          <h2 data-animate class="section-title">Jadwal Ibadah & Kegiatan</h2>
          <p data-animate class="section-subtitle max-w-3xl mx-auto">
            Kami mengundang Anda untuk bersekutu bersama kami. Berikut adalah
            jadwal kegiatan rutin kami.
          </p>
          <div
            class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-left"
          >
            <div data-animate class="glass-card p-8">
              <h3
                class="text-2xl font-bold mb-2"
                style="color: var(--color-text-main)"
              >
                Ibadah Umum I
              </h3>
              <p
                class="font-semibold text-lg"
                style="color: var(--color-text-secondary)"
              >
                Setiap Minggu, 07:00 WIB
              </p>
              <p class="mt-4" style="color: var(--color-text-secondary)">
                Ibadah pagi yang penuh sukacita untuk memulai hari Minggu Anda
                dengan firman Tuhan.
              </p>
            </div>
            <div
              data-animate
              style="transition-delay: 200ms"
              class="glass-card p-8"
            >
              <h3
                class="text-2xl font-bold mb-2"
                style="color: var(--color-text-main)"
              >
                Ibadah Umum II
              </h3>
              <p
                class="font-semibold text-lg"
                style="color: var(--color-text-secondary)"
              >
                Setiap Minggu, 09:00 WIB
              </p>
              <p class="mt-4" style="color: var(--color-text-secondary)">
                Ibadah dengan suasana yang lebih kontemporer, cocok untuk
                keluarga dan kaum muda.
              </p>
            </div>
            <div
              data-animate
              style="transition-delay: 400ms"
              class="glass-card p-8"
            >
              <h3
                class="text-2xl font-bold mb-2"
                style="color: var(--color-text-main)"
              >
                Ibadah Umum III
              </h3>
              <p
                class="font-semibold text-lg"
                style="color: var(--color-text-secondary)"
              >
                Setiap Minggu, 17:00 WIB
              </p>
              <p class="mt-4" style="color: var(--color-text-secondary)">
                Ibadah sore yang khidmat untuk menutup akhir pekan Anda dalam
                hadirat Tuhan.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="warta" class="py-24">
        <div class="container mx-auto px-6 text-center">
          <h2 data-animate class="section-title">Warta & Acara Mendatang</h2>
          <p data-animate class="section-subtitle max-w-3xl mx-auto">
            Tetap terhubung dengan berita terbaru dan acara spesial yang akan
            datang di gereja kami.
          </p>
          <div
            id="warta-grid"
            class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-left"
          ></div>
        </div>
      </section>

      <section id="tentang" class="py-24">
        <div class="container mx-auto px-6">
          <div class="flex flex-col md:flex-row items-center gap-12 lg:gap-20">
            <div data-animate class="md:w-1/2">
              <img
                src="assets/gedung_gereja.jpg"
                alt="Gedung GKI Kutisari Indah"
                class="rounded-2xl shadow-2xl w-full transform hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div data-animate style="transition-delay: 200ms" class="md:w-1/2">
              <span
                class="font-bold text-lg"
                style="color: var(--color-text-accent)"
                >TENTANG KAMI</span
              >
              <h2 class="section-title mt-2">Mengenal GKI Kutisari Indah</h2>
              <p
                class="mt-4 text-lg"
                style="color: var(--color-text-secondary)"
              >
                GKI Kutisari Indah adalah komunitas orang percaya yang
                berkomitmen untuk bertumbuh dalam pengenalan akan Kristus,
                saling mengasihi, dan melayani masyarakat Surabaya.
              </p>
              <p class="mt-4" style="color: var(--color-text-secondary)">
                Visi kami adalah menjadi gereja yang relevan, berdampak, dan
                menjadi berkat. Kami percaya setiap orang berharga di mata Tuhan
                dan memiliki tempat dalam keluarga besar kami.
              </p>
              <a href="#" class="btn btn-primary mt-8">Visi, Misi & Sejarah</a>
            </div>
          </div>
        </div>
      </section>

      <!-- ===================== GALERI ===================== -->
      <section id="galeri" class="py-24">
        <div class="container mx-auto px-6 text-center">
          <h2 data-animate class="section-title">Galeri Kegiatan</h2>
          <p data-animate class="section-subtitle max-w-3xl mx-auto">
            Momen kebersamaan dan sukacita dalam berbagai kegiatan gereja kami.
          </p>

          <!-- Elfsight Instagram Feed (3 postingan terbaru) -->
          <div data-animate class="mt-16">
            <!-- container widget -->
            <div
              class="elfsight-app-e3036a96-86a2-4869-8b3b-dd700ccf329e"
              data-elfsight-app-lazy
            ></div>

            <noscript>
              <p class="mt-4 text-sm">
                Aktifkan JavaScript untuk melihat galeri.
                <a
                  class="underline"
                  href="https://www.instagram.com/gkikutisariindah/"
                  target="_blank"
                  rel="noopener"
                  >Buka Instagram</a
                >
              </p>
            </noscript>
          </div>

          <div data-animate class="mt-12">
            <a
              href="https://www.instagram.com/gkikutisariindah/"
              target="_blank"
              class="btn btn-primary"
            >
              Lihat Lebih Banyak di Instagram
            </a>
          </div>
        </div>
      </section>
      <!-- =================== END GALERI =================== -->

      <section id="kontak" class="py-24">
        <div class="container mx-auto px-6">
          <div class="text-center mb-16">
            <h2 data-animate class="section-title">Hubungi & Kunjungi Kami</h2>
            <p data-animate class="section-subtitle max-w-3xl mx-auto">
              Kami senang dapat terhubung dengan Anda. Jangan ragu untuk
              menghubungi kami atau datang langsung.
            </p>
          </div>
          <div data-animate class="glass-card p-8 lg:p-12">
            <div class="flex flex-col lg:flex-row gap-8 lg:gap-12">
              <div class="lg:w-1/2 space-y-8">
                <div>
                  <h3
                    class="text-xl font-bold"
                    style="color: var(--color-text-main)"
                  >
                    Alamat Gereja
                  </h3>
                  <p class="mt-1" style="color: var(--color-text-secondary)">
                    Jl. Raya Kutisari Indah No.139, Kutisari, Kec. Tenggilis
                    Mejoyo, Surabaya, Jawa Timur 60291
                  </p>
                </div>
                <div>
                  <h3
                    class="text-xl font-bold"
                    style="color: var(--color-text-main)"
                  >
                    Kantor Gereja
                  </h3>
                  <p class="mt-1" style="color: var(--color-text-secondary)">
                    Hubungi kami untuk informasi umum dan administrasi.
                  </p>
                  <a
                    href="https://wa.me/6281332240711"
                    target="_blank"
                    class="mt-3 inline-flex items-center gap-2 font-semibold text-green-600 hover:text-green-500 transition"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      fill="currentColor"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.1-.816-.404-1.057-.452-.24-.048-.415-.072-.592.072-.177.144-.666.816-.812.98-.144.165-.288.188-.479.072-.19-.117-.803-.297-1.527-.942-.566-.495-.942-1.103-1.057-1.296-.115-.192-.012-.297.06-.396.066-.09.144-.24.216-.36.072-.12.096-.216 .144-.36s.024-.288-.024-.384c-.048-.096-.479-1.152-.656-1.576-.177-.424-.366-.366-.504-.372h-.42c-.144 0-.366.048-.543.24-.177.192-.666.654-.666 1.592 0 .938.684 1.85 1.057 2.318.373.468 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.479.152.912.127 1.246.076.384-.058 1.171-.48 1.338-1.037.165-.558.165-1.037.12-1.134-.048-.096-.177-.144-.372-.24z"
                      />
                    </svg>
                    <span>WhatsApp Kantor</span>
                  </a>
                </div>
              </div>
              <div class="lg:w-1/2 h-96 rounded-2xl overflow-hidden shadow-lg">
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3957.1456284476158!2d112.75122710943965!3d-7.337537692640396!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dd7fb31c4cd963b%3A0x3d1b8b29fc6e3a11!2sGereja%20Kristen%20Indonesia%20Kutisari!5e0!3m2!1sen!2sid!4v1752597268143!5m2!1sen!2sid"
                  class="w-full h-full"
                  style="border: 0"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                ></iframe>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer
      style="
        background-color: var(--color-footer-bg);
        color: var(--color-footer-text);
      "
    >
      <div class="container mx-auto px-6 py-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
          <div class="md:col-span-1">
            <h3 class="text-xl font-bold text-white">GKI KUTISARI INDAH</h3>
            <p class="mt-4">
              Bertumbuh bersama dalam iman, pengharapan, dan kasih Kristus.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-white">Tautan Cepat</h3>
            <ul class="mt-4 space-y-2">
              <li>
                <a href="#tentang" class="hover:text-white transition"
                  >Tentang Kami</a
                >
              </li>
              <li>
                <a href="#jadwal" class="hover:text-white transition"
                  >Jadwal Ibadah</a
                >
              </li>
              <li>
                <a href="#warta" class="hover:text-white transition"
                  >Warta Jemaat</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="opacity-50 cursor-not-allowed"
                  title="Segera Hadir"
                  >Laporan Keuangan</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-white">
              Terhubung Dengan Kami
            </h3>
            <div class="flex space-x-4 mt-4">
              <a
                href="https://www.youtube.com/@gkikutisariindah"
                target="_blank"
                class="hover:text-white transition transform hover:scale-110"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"
                  />
                </svg>
              </a>
              <a
                href="https://www.instagram.com/gkikutisariindah/"
                target="_blank"
                class="hover:text-white transition transform hover:scale-110"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919 1.266-.057 1.644-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98.59-1.281.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98-1.281-.059-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"
                  />
                </svg>
              </a>
              <a
                href="https://www.facebook.com/gkikutisariindah"
                target="_blank"
                class="hover:text-white transition transform hover:scale-110"
              >
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path
                    d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v2.385z"
                  />
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div
          class="mt-8 border-t pt-8 text-center text-sm"
          style="border-color: rgba(255, 255, 255, 0.2)"
        >
          <p>
            © <span id="year"></span> GKI Kutisari Indah. Dikembangkan sebagai
            bagian dari pelayanan oleh Mahasiswa UK Petra.
          </p>
        </div>
      </div>
    </footer>

    <script>
      // --- New Preloader Logic ---
      window.addEventListener("load", () => {
        const preloader = document.getElementById("preloader");
        const letters = document.querySelectorAll(".loader-text-line span");
        const mainContent = document.querySelector("main");
        const header = document.getElementById("header");

        const tl = gsap.timeline({
          onComplete: () => {
            gsap.to(preloader, {
              duration: 0.5,
              opacity: 0,
              onComplete: () => {
                preloader.style.display = "none";
              },
            });
            gsap.to([header, mainContent], {
              duration: 0.8,
              opacity: 1,
              delay: 0.2,
            });
          },
        });

        tl.to(letters, {
          duration: 0.6,
          y: 0,
          stagger: 0.05,
          ease: "power2.out",
        })
          .to(letters, {
            "--clipPath": "inset(0% 0 0 0)",
            duration: 0.8,
            delay: 0.3,
            ease: "power1.inOut",
          })
          .to(letters, {
            duration: 0.6,
            y: -110,
            stagger: 0.05,
            delay: 0.8,
            ease: "power2.in",
          });
      });

      document.addEventListener("DOMContentLoaded", () => {
        // Mobile Menu Toggle
        const mobileMenuButton = document.getElementById("mobile-menu-button");
        const mobileMenu = document.getElementById("mobile-menu");
        mobileMenuButton.addEventListener("click", () => {
          mobileMenu.classList.toggle("hidden");
        });

        // Close mobile menu when a link is clicked
        document.querySelectorAll("#mobile-menu a").forEach((link) => {
          link.addEventListener("click", () => {
            mobileMenu.classList.add("hidden");
          });
        });

        // Set current year in footer
        document.getElementById("year").textContent = new Date().getFullYear();

        // Scroll Animation using Intersection Observer
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const delay = entry.target.style.transitionDelay
                  ? parseInt(entry.target.style.transitionDelay)
                  : 200;
                setTimeout(() => {
                  entry.target.classList.add("is-visible");
                }, delay);
                observer.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.1 }
        );

        // fungsi helper: observe elemen baru juga
        function observeAnimated(container = document) {
          container
            .querySelectorAll("[data-animate]:not(.is-visible)")
            .forEach((el) => observer.observe(el));
        }

        // observe elemen yang sudah ada saat DOM siap
        observeAnimated(document);

        // Header shadow on scroll
        const header = document.getElementById("header");
        window.addEventListener("scroll", () => {
          if (window.scrollY > 10) header.classList.add("shadow-lg");
          else header.classList.remove("shadow-lg");
        });

        // === Warta Jemaat (Drive via Apps Script - OPSI B, 3 file terbaru) ===
        const WARTA_API_URL =
          "https://script.google.com/macros/s/AKfycbwvowKFPPHl4hHN5IzuQF8Wyr3w-P7wUKTzw2Oj_69zWoPZmBcfPxCkR2dYc8je5Rqo_A/exec"; // ganti dengan URL Web App kamu

        const grid = document.getElementById("warta-grid");

        function formatTanggalID(dateStr) {
          const d = new Date(dateStr);
          return d.toLocaleDateString("id-ID", {
            weekday: "long",
            day: "2-digit",
            month: "long",
            year: "numeric",
          });
        }

        function renderCard(item, idx) {
          const delay = idx === 1 ? "200ms" : idx === 2 ? "400ms" : "0ms";

          const card = document.createElement("div");
          card.className = "glass-card overflow-hidden p-0";
          card.setAttribute("data-animate", "");
          card.style.transitionDelay = delay;

          card.innerHTML = `
          <img src="${item.thumbnailUrl}&v=${Date.now()}" alt="${
            item.name
          }" class="w-full h-56 object-cover" />
          <div class="p-6">
            <span class="text-sm font-semibold" style="color: var(--color-text-accent)">PENGUMUMAN</span>
            <h3 class="text-xl font-bold mt-2" style="color: var(--color-text-main)">${
              item.name || "Warta Jemaat"
            }</h3>
            <p class="mt-2" style="color: var(--color-text-secondary)">
              Terakhir diperbarui: ${
                item.modifiedTime ? formatTanggalID(item.modifiedTime) : "-"
              }
            </p>
            <div class="mt-4 flex items-center gap-3">
              <a href="${item.downloadUrl}" target="_blank" rel="noopener"
                 class="inline-block font-semibold" style="color: var(--color-text-accent)">Unduh Warta →</a>
              <a href="${item.viewUrl}" target="_blank" rel="noopener"
                 class="inline-block text-sm underline opacity-80 hover:opacity-100"
                 style="color: var(--color-text-secondary)">Lihat Pratinjau</a>
            </div>
          </div>
        `;
          return card;
        }

        if (WARTA_API_URL && grid) {
          fetch(WARTA_API_URL)
            .then((r) => r.json())
            .then((data) => {
              if (!data || !Array.isArray(data.files))
                throw new Error("Invalid JSON");
              const files = data.files;
              grid.innerHTML = "";

              if (files.length === 0) {
                grid.innerHTML = `
                <div class="text-center col-span-3">
                  <p style="color: var(--color-text-secondary)">Belum ada Warta terbaru.</p>
                </div>`;
                return;
              }

              files.forEach((item, idx) => {
                const card = renderCard(item, idx);
                grid.appendChild(card);
              });

              // >>> tambahkan baris ini <<<
              observeAnimated(grid);
            })
            .catch((err) => {
              console.error("Warta feed error:", err);
              grid.innerHTML = `
              <div class="text-center col-span-3">
                <p style="color: var(--color-text-secondary)">Gagal memuat Warta.</p>
              </div>`;
            });
        }
      });
    </script>
  </body>
</html>
